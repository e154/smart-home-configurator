.panel
  .row
    .col-lg-4.col-md-5.col-sm-6
      .form-group
        -#
        -#  select2
        -#
        %ui-select(ng-model="attached_script.script" theme="bootstrap")
          %ui-select-match(placeholder="{{'workflow.script' | translate}}")
            %div(ng-if="attached_script.script")
              {{attached_script.script.name}} ({{attached_script.script.lang}})
          %ui-select-choices(repeat="item in scripts | filter: $select.search" refresh="refreshScripts($select.search)" refresh-delay="0")
            %div
              %span(ng-bind-html="item.name | highlight: $select.search")
              (
              %small.text-muted(ng-bind-html="item.lang | highlight: $select.search")
              )
          %ui-select-no-choice
            {{'No data' | translate}}

    .col-lg-8.col-md-7.col-sm-6
      .form-group
        %button.btn.btn-default(ng-click="appendScript()") Добавить
  .row
    .col-lg-2

      .form-group
        %h4 file list
      .form-group
        %ul.list-unstyled
          %li(ng-repeat="script in used_scripts")
            .pull-left
              %a(href="#" ng-click="select(script, $event)")
                {{script.name}}
            .pull-right
              %a(href="#" ng-click="remove(script, $event)")
                .fa.fa-crosshairs
            .clearfix

    .col-lg-10
      .form-group
        %h4 Окно редактора

      .form-group
        .ace-editor.form-control(ng-model="current_script.source" ui-ace="ace_options")

  .row
    .col-lg-12
      .pull-right
        %a.btn.btn-danger(href="" role="button" ng-click="device.remove()")
          {{'Delete' | translate}}
        %a.btn.btn-primary(href="" role="button" ng-click="device.submit()")
          {{'Update' | translate}}
