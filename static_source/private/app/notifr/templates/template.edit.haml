.row
  .col-md-12
    %h3
      %a(href="" ui-sref="dashboard.notifr.template_list")
        %small.fa.fa-long-arrow-left
          &nbsp;
      {{ 'notifr.email_template' | translate }}

.row
  .col-md-12
    .alert.alert-success(role="alert")
      %h4.alert-heading
        %span.fa.fa-lightbulb-o &nbsp;
        {{'notifr.help3.title' | translate}}
      %p
        {{'notifr.help3.message1' | translate}}
      %p
        {{'notifr.help3.message2' | translate}}

.row.section
  .col-md-8
    .form-group(ng-if="ctrl.template.markers.length")
      %label {{'notifr.markers' | translate}}:
      %div
        %span(ng-repeat="marker in ctrl.template.markers track by $index")
          [{{marker}}]
          %span(ng-if="!$last"),&nbsp;

    .form-group
      %label(for="title") {{'notifr.title' | translate}}
      %input.form-control(id="title" ng-model="ctrl.content.title" placeholder="{{'template name' | translate}}" type="text")/

    .form-group
      %label(for="preview") {{'notifr.preview' | translate}}
      %iframe(id="preview" frameborder="no" style="border: 1px #aaaaaa dashed; padding: 1px; height: 900px; width: 100%;")

  .col-md-4
    .form-group
      %label(for="name") {{'notifr.system_name' | translate}}
      %input.form-control(id="name" ng-disabled="!ctrl.isNew" ng-model="ctrl.template.name" placeholder="{{'template name' | translate}}" type="text")/

    .form-group
      %label(for="description") {{'notifr.description' | translate}}
      %input.form-control(id="description" ng-model="ctrl.template.description" placeholder="{{'template description' | translate}}" type="text")/

    .form-group
      %label(for="items") {{'items' | translate}}
      %select(id="items" data-ng-attr-size="{{ctrl.selectSize}}" multiple="multiple" ng-model="selectedItems" ng-options="item as item for item in ctrl.items" style="width: 100%;")

    .form-group
      %button.btn.btn-primary(ng-click="ctrl.save()" ng-show="ctrl.isNew" type="button" if-can="{template:['create']}") {{'Save' | translate}}
      %button.btn.btn-primary(ng-click="ctrl.update()" ng-show="!ctrl.isNew" type="button" if-can="{template:['update']}") {{'Update' | translate}}
      %button.btn.btn-danger(ng-click="ctrl.delete()" ng-show="!ctrl.isNew" type="button" if-can="{template:['delete']}") {{'Delete' | translate}}
