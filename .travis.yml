language: go

go:
  - 1.7.x

env:
  global:
    - UNAME="$(uname | tr '[:upper:]' '[:lower:]')"
  matrix:
    - NODE_VERSION="4.2.0"

cache:
  directories:
    - node_modules

before_install:
  - rm -rf ~/.nvm/ && git clone --depth 1 https://github.com/creationix/nvm.git ~/.nvm
  - source ~/.nvm/nvm.sh
  - nvm install $NODE_VERSION
  - nvm use $NODE_VERSION
  - npm install -g bower
  - npm install -g gulp
  - go env && pwd
  - go get github.com/FiloSottile/gvt

script:
  - ./make --init
  - ./make --build-front
  - ./make --build-back

notifications:
  email: false